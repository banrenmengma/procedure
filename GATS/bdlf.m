function [] = bdlf()
clc;
clear;
%{
P =[46    25    29    46     9    28    14    31    18    21
     1    10     2    36    49    37     2    48     3     7
    24    34    33     1     4     3     9    22    11    28
    33     2    43    38     7    19    22    18     6     5
    43    28    38    21    35    25    32    49    18    49
    35    23     5    19    19    13    15    28    37     4
    42     4    40    20     3    40    24    42    48    46
    34     3    21    15    43     8     6    36     2    47
    22    24     1    37    34    24    30    14     2    14
    46    18    26    29    39     2    46    37     6    47]
%}

%P=crtbp(10,10,crtbase(10,49))+1

%P=magic(50);

%{
%car1
P =[

   375    12   142   245   412
   632   452   758   278   398
    12   876   124   534   765
   460   542   523   120   499
   528   101   789   124   999
   796   245   632   375   123
   532   230   543   896   452
    14   124   214   543   785
   257   527   753   210   463
   896   896   214   258   259
   532   302   501   765   988]
%}


%{
%car2
P =[

   654   147   345   447
   321   520   789   702
    12   147   630   255
   345   586   214   866
   678   532   275   332
   963   145   302   225
    25    24   142   589
   874   517    24   996
   114   896   520   541
   785   543   336   234
   203   210   699   784
   696   784   855   512
   302   512   221   345]
%}


%{
%car3
P =[

   456   537   123   214   234
   789   854   225   528   123
   876   632   588   896   456
   543   145   669   325   789
   210   785   966   147   876
   123   214   332   856   543
   456   752   144   321   210
   789   143   755   427   123
   876   698   322   546   456
   543   532   100   321   789
   210   145   114   401   876
   124   247   753   245   543]
%}


%{
%car4
P =[

   456   856   963   696
   789   930    21   320
   630   214   475   142
   214   257   320   753
   573   896   124   214
   218   532   752   528
   653   142   147   653
   214   547   532   214
   204   865   145   527
   785   321   763   536
   696   124   214   214
   532    12   257   528
    12   345   854   888
   457   678   123   999]
%}


%{
%car5
P =[

   333   991   996   123   145   234
   333   111   663   456   785   532
   252   222   222   789   214   586
   222   204   114   876   752   532
   255   477   123   543   143   142
   555   566   456   210   698   573
   558   899   789   124   532    12
   888   965   876   537   145    14
   889   588   543   854   247   527
   999   889   210   632   451   856]
%}


%{
%car6
P =[

   887   447   234   159   201   555   463   456   753
   799   779   567   267   478   444   123   789    21
   999   999   852   483   520   120   456   630   427
   666   666   140   753   145   142   789   258   520
   663    25   222   420   699   578   876   741   142
   333   558   558   159   875   965   543    36   534
   222   886   965    25   633   412   210   985   157
   114   541   412   863   222    25   123   214   896]

%}

%{
%car7
P =[

   692   310   832   630   258   147   255
   581   582    14   214   147   753   806
   475   475   785   578   852     2   699
    23   196   696   214   586   356   877
   158   325   530   785   325   565   412
   796   874   214   236   896   898   302
   542   205   578   963   325   800   120]
%}


%car8
P =[

   456   654   852   145   632   425   214   654
   789   123   369   678   581   396   123   789
   654   123   632   965   475   325   456   654
   321   456   581   421    32   147   789   123
   456   789   472   365   536   852   654   123
   789   654   586   824   325    12   321   456
   654   321   320   758   863   452   456   789
   789   147   120   639    21   863   789   654]

   
%P=input('P=')
C=P;
[n,m]=size(P);

a=input('a=');
B=zeros(1,m-1);
B=input('B=');
k=ceil(m/2);

tic
if mod(m,2) == 0
for i=1:n
        D(i,1)=sum(P(i,1:k));
        D(i,2)=sum(P(i,k:m));
end
else
    for i=1:n
        D(i,1)=sum(P(i,1:k));
        D(i,2)=sum(P(i,k+1:m));
end
end


count1=0;
for i=1:n
    if D(i,1)<D(i,2)
       count1=count1+1;
       F1(count1)=D(i,1);
       G1=sort(F1);
    end
end


count2=0;
for i=1:n
    if D(i,1)>=D(i,2)
        count2=count2+1;
        F2(count2)=D(i,2);
        G2=sort(F2,'descend');
    end
end


G=cat(2,G1,G2)';



for i=1:count1
    index1(i)=find(G(i)==D(:,1));
end


for j=1:count2
    index2(j)=find(G(j+count1)==D(:,2));
end

xulie=cat(2,index1,index2,B)

   for s=1:n
     Q(s,:)=C(xulie(1,s),:);
    end;
    
    [V result]=jisuan(Q,B,a);
   
    result
    
toc

figure(7);

    
    for i=1:n
     for j=1:m
        
             fill([V(i,j),V(i,j)+Q(i,j),V(i,j)+Q(i,j),V(i,j)],[1*j-1,1*j-1,1*j,1*j],'r'),hold on
             text(V(i,j),1*j-0.5,num2str(Q(i,j)));
         end
    end
    title('X£ºÊ±¼ä  Y£º»ú´²');

